@{
    ViewData["Title"] = "Trang học viên - Enlight English Center";
}

<div class="container py-5 text-center">
    <h2 class="fw-bold text-primary">
        <i class="fa-solid fa-user-graduate me-2"></i> Học viên ENLIGHT
    </h2>
    <p class="text-muted">Tra cứu khóa học, làm test đầu vào và xem kết quả học tập.</p>

    @if (ViewBag.TestStatus == null)
    {
        <!-- ✅ Đưa học viên đến danh sách khóa test -->
        <a asp-controller="LichKhaiGiang" asp-action="Index" class="btn btn-primary btn-lg shadow-sm">
            <i class="fa-solid fa-pen-to-square me-2"></i> Đăng ký Test đầu vào
        </a>
    }
    else if (ViewBag.TestStatus == "Chờ xác nhận")
    {
        <button class="btn btn-warning btn-lg shadow-sm" disabled>
            <i class="fa-solid fa-hourglass-half me-2"></i> Đang chờ xác nhận...
        </button>
    }
    else if (ViewBag.TestStatus == "Được phép test")
    {
        <div class="card border-success shadow-sm p-4 my-4">
            <h4 class="fw-bold text-success mb-3">
                <i class="fa-solid fa-circle-check me-2"></i> Bạn đã được duyệt làm bài Test
            </h4>
            <p>Khóa học: <b>@TempData["KhoaHoc"] ?? "Chưa xác định"</b></p>

            <a asp-controller="TestDauVao" asp-action="LamBai" class="btn btn-success btn-lg shadow-sm mt-3">
                <i class="fa-solid fa-play me-2"></i> Làm bài Test ngay
            </a>
        </div>
    }
    else if (ViewBag.TestStatus == "Hoàn thành")
    {
        <div class="card border-info shadow-sm p-4 my-4">
            <h4 class="fw-bold text-info mb-3">
                <i class="fa-solid fa-check-circle me-2"></i> Bạn đã hoàn thành bài Test
            </h4>
            <p>Điểm bài test: <b>@ViewBag.DiemSo</b></p>
            <p>Lớp đề xuất: <b class="text-primary">@ViewBag.LopDeXuat</b></p>

            <a asp-controller="TestDauVao" asp-action="KetQua" class="btn btn-secondary btn-lg shadow-sm mt-3">
                <i class="fa-solid fa-chart-line me-2"></i> Xem kết quả Test
            </a>
        </div>
    }
</div>
