@{
    ViewData["Title"] = "Trang học viên - Enlight English Center";
}

<div class="container py-5 text-center">
    <h2 class="fw-bold text-primary">
        <i class="fa-solid fa-user-graduate me-2"></i> Học viên ENLIGHT
    </h2>
    <p class="text-muted">Tra cứu khóa học, làm test đầu vào và xem kết quả học tập.</p>

    @if (ViewBag.TestStatus == null)
    {
        <a href="/TestDauVao/DangKy" class="btn btn-primary btn-lg shadow-sm">
            <i class="fa-solid fa-pen-to-square me-2"></i> Đăng ký Test đầu vào
        </a>
    }
    else if (ViewBag.TestStatus == "Chờ xác nhận")
    {
        <button class="btn btn-warning btn-lg shadow-sm" disabled>
            <i class="fa-solid fa-hourglass-half me-2"></i> Đang chờ xác nhận...
        </button>
    }
    else if (ViewBag.TestStatus == "Được phép test")
    {
        <div class="card border-success shadow-sm p-4 my-4">
            <h4 class="fw-bold text-success mb-3">
                <i class="fa-solid fa-circle-check me-2"></i> Bạn đã được duyệt làm bài Test IELTS
            </h4>
            <p>Khóa học: <b>@TempData["LopHoc"] ?? "IELTS 6.5+" </b></p>
            <p>
                Học phí dự kiến:
                <b class="text-danger">
                    @String.Format("{0:N0} VNĐ", TempData["HocPhi"] ?? 3500000)
                </b>
            </p>
            <a href="/TestDauVao/LamBai" class="btn btn-success btn-lg shadow-sm mt-3">
                <i class="fa-solid fa-play me-2"></i> Làm bài Test IELTS
            </a>
            <a href="/ThanhToan/IELTS" class="btn btn-outline-primary btn-lg shadow-sm mt-3">
                <i class="fa-solid fa-credit-card me-2"></i> Thanh toán học phí
            </a>
        </div>
    }
    else if (ViewBag.TestStatus == "Hoàn thành")
    {
        <a href="/TestDauVao/KetQua" class="btn btn-secondary btn-lg shadow-sm">
            <i class="fa-solid fa-chart-line me-2"></i> Xem kết quả Test
        </a>
    }
    else if (ViewBag.TestStatus == "Hoàn thành")
    {
        <div class="card border-info shadow-sm p-4 my-4">
            <h4 class="fw-bold text-info mb-3">
                <i class="fa-solid fa-check-circle me-2"></i> Bạn đã hoàn thành bài Test
            </h4>
            <p>Điểm bài test: <b>@Model.DiemSo</b></p>
            <p>Lớp đề xuất: <b class="text-primary">@Model.LopDeXuat</b></p>

            <a href="/ThanhToan/Index?lop=@Model.LopDeXuat" class="btn btn-success mt-3">
                <i class="fa-solid fa-credit-card me-2"></i> Thanh toán lớp @Model.LopDeXuat
            </a>
        </div>
    }

</div>
