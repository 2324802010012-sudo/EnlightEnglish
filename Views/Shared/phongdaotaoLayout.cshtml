@using Microsoft.AspNetCore.Mvc.Rendering
@{
    Layout = null;
    string ctrl = (ViewContext.RouteData.Values["controller"]?.ToString() ?? "").ToLower();
    string act = (ViewContext.RouteData.Values["action"]?.ToString() ?? "").ToLower();
    bool Active(string a) => act == a.ToLower();
    string A(string a) => Active(a) ? "pdt-link active" : "pdt-link";
    string Title = (ViewData["Title"] as string) ?? "Phòng Đào Tạo";
}
<!doctype html>
<html lang="vi" data-bs-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>@Title</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
        :root {
            --pdt-sidebar-w: 268px;
            --pdt-primary: #2563eb; /* indigo/blue */
            --pdt-muted: #6b7280;
            --pdt-border: #e5e7eb;
            --pdt-bg: #f7f8fa;
            --pdt-hover: #f3f6ff;
        }

        html, body {
            height: 100%;
        }

        body {
            background: var(--pdt-bg);
        }

        /* ----- Sidebar (desktop) ----- */
        .pdt-sidebar {
            width: var(--pdt-sidebar-w);
            position: fixed;
            inset: 0 auto 0 0;
            border-right: 1px solid var(--pdt-border);
            background: #fff;
            display: flex;
            flex-direction: column;
            z-index: 1030;
        }

        .pdt-brand {
            font-weight: 800;
            letter-spacing: .3px;
            display: flex;
            align-items: center;
            gap: .5rem;
            color: #111827;
        }

        .pdt-brand-badge {
            width: 34px;
            height: 34px;
            border-radius: 10px;
            display: grid;
            place-items: center;
            background: linear-gradient(135deg,#3b82f6 0%,#6366f1 100%);
            color: #fff;
            font-weight: 800;
        }

        /* ----- Content ----- */
        .pdt-content {
            margin-left: var(--pdt-sidebar-w);
            min-height: 100dvh;
        }

        /* ----- Nav ----- */
        .pdt-section-title {
            text-transform: uppercase;
            color: var(--pdt-muted);
            font-size: .72rem;
            letter-spacing: .08rem;
            margin: .75rem 0 .35rem;
        }

        .pdt-link {
            display: flex;
            align-items: center;
            gap: .6rem;
            padding: .625rem .8rem;
            border-radius: .65rem;
            color: #111827;
            text-decoration: none !important; /* ⛔ không gạch chân */
            transition: all .18s ease;
        }

            .pdt-link .bi {
                font-size: 1.05rem;
                opacity: .9;
            }

            .pdt-link:hover {
                background: var(--pdt-hover);
                transform: translateX(2px);
            }

            .pdt-link.active {
                color: #0b1324;
                background: rgba(37,99,235,.12);
                border: 1px solid rgba(37,99,235,.22);
                box-shadow: inset 0 0 0 1px rgba(37,99,235,.06);
            }

        /* ----- Header ----- */
        .pdt-header {
            background: #fff;
            border-bottom: 1px solid var(--pdt-border);
            position: sticky;
            top: 0;
            z-index: 1020;
        }

        .pdt-title {
            margin: 0;
            font-weight: 700;
            color: #111827;
        }

        /* ----- Breadcrumb ----- */
        .breadcrumb {
            --bs-breadcrumb-divider: '›';
        }

            .breadcrumb a {
                text-decoration: none !important;
            }

        /* ----- Alerts ----- */
        .pdt-alerts .alert {
            border-radius: .75rem;
        }

        /* ----- Footer ----- */
        .pdt-footer {
            border-top: 1px solid var(--pdt-border);
            color: var(--pdt-muted);
        }

        /* ----- Nice scrollbar for sidebar ----- */
        .pdt-nav {
            overflow: auto;
        }

            .pdt-nav::-webkit-scrollbar {
                width: 8px;
            }

            .pdt-nav::-webkit-scrollbar-thumb {
                background: #e5e7eb;
                border-radius: 8px;
            }

            .pdt-nav:hover::-webkit-scrollbar-thumb {
                background: #d1d5db;
            }

        /* ----- Responsive: use offcanvas on <lg ----- */
        @@media (max-width: 991.98px) {
            .pdt-content

        {
            margin-left: 0;
        }

        .pdt-sidebar {
            display: none;
        }

        .offcanvas-pdt .pdt-section-title {
            margin-top: .25rem;
        }

        .offcanvas-pdt .pdt-link {
            padding: .7rem .9rem;
        }

        }
    </style>

    @RenderSection("Styles", required: false)
</head>
<body>

    <!-- Sidebar (desktop) -->
    <aside class="pdt-sidebar">
        <div class="p-3 border-bottom">
            <a asp-controller="PhongDaoTao" asp-action="Index" class="text-decoration-none">
                <div class="pdt-brand">
                    <span class="pdt-brand-badge">EN</span>
                    <span>Phòng Đào Tạo</span>
                </div>
            </a>
            <small class="text-muted">Enlight English Center</small>
        </div>

        <nav class="p-3 pdt-nav flex-grow-1">
            <div class="pdt-section-title">Điều hướng</div>
            <a class="@A("Index")" asp-controller="PhongDaoTao" asp-action="Index">
                <i class="bi bi-house-door"></i> <span>Trang chủ</span>
            </a>
            
            <div class="pdt-section-title">Giảng dạy</div>
            <a class="@A("GiaoVien")" asp-controller="PhongDaoTao" asp-action="GiaoVien">
                <i class="bi bi-mortarboard"></i> <span>Giảng viên</span>
            </a>
            <a class="@A("PhanCong") mt-1" asp-controller="PhongDaoTao" asp-action="PhanCong">
                <i class="bi bi-diagram-3"></i> <span>Phân công giảng dạy</span>
            </a>
            <a class="@A("LichHoc") mt-1" asp-controller="PhongDaoTao" asp-action="LichHoc">
                <i class="bi bi-calendar3"></i> <span>Lịch học</span>
            </a>

            <div class="pdt-section-title">Đào tạo</div>
            <a class="@A("KhoaHoc")" asp-controller="PhongDaoTao" asp-action="KhoaHoc">
                <i class="bi bi-journal-bookmark"></i> <span>Khóa học</span>
            </a>
            <a class="@A("LopHoc") mt-1" asp-controller="PhongDaoTao" asp-action="LopHoc">
                <i class="bi bi-building"></i> <span>Lớp học</span>
            </a>
            <a class="@A("LichKhaiGiang") mt-1" asp-controller="PhongDaoTao" asp-action="LichKhaiGiang">
                <i class="bi bi-megaphone"></i> <span>Lịch khai giảng</span>
            </a>

            <div class="mt-3">
                <form asp-controller="PhongDaoTao" asp-action="DangXuat" method="post" class="d-grid">
                    @Html.AntiForgeryToken()
                    <button class="btn btn-outline-danger rounded-3">
                        <i class="bi bi-box-arrow-right me-1"></i> Đăng xuất
                    </button>
                </form>
            </div>
        </nav>

        <div class="p-3 pdt-footer small">© @DateTime.Now.Year Enlight English Center</div>
    </aside>

    <!-- Header -->
    <header class="pdt-header">
        <div class="container-fluid py-2">
            <div class="d-flex align-items-center justify-content-between">
                <!-- Mobile: sidebar toggler -->
                <button class="btn btn-outline-secondary d-lg-none rounded-3" data-bs-toggle="offcanvas" data-bs-target="#pdtOffcanvas" aria-controls="pdtOffcanvas">
                    <i class="bi bi-list"></i>
                </button>

                <nav aria-label="breadcrumb" class="flex-grow-1 ms-lg-0 ms-2">
                    <ol class="breadcrumb mb-0 small">
                        <li class="breadcrumb-item">
                            <a asp-controller="PhongDaoTao" asp-action="Index" class="text-decoration-none">Phòng Đào Tạo</a>
                        </li>
                        @RenderSection("Breadcrumb", required: false)
                    </ol>
                </nav>

                <h1 class="h5 pdt-title ms-2 mb-0">@Title</h1>
            </div>
        </div>
    </header>

    <!-- Content -->
    <main class="pdt-content">
        <section class="container-fluid py-3 pdt-alerts">
            <partial name="~/Views/Shared/_Alerts.cshtml" />
            @RenderBody()
        </section>
    </main>

    <!-- Offcanvas Sidebar (mobile) -->
    <div class="offcanvas offcanvas-start offcanvas-pdt" tabindex="-1" id="pdtOffcanvas" aria-labelledby="pdtOffcanvasLabel">
        <div class="offcanvas-header border-bottom">
            <div class="pdt-brand"><span class="pdt-brand-badge">EN</span><span>Phòng Đào Tạo</span></div>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Đóng"></button>
        </div>
        <div class="offcanvas-body p-3">
            <div class="pdt-section-title">Điều hướng</div>
            <a class="@A("Index")" asp-controller="PhongDaoTao" asp-action="Index"><i class="bi bi-house-door"></i> Trang chủ</a>
            <a class="@A("DuyetTest") mt-1" asp-controller="PhongDaoTao" asp-action="DuyetTest"><i class="bi bi-ui-checks-grid"></i> Duyệt test đầu vào</a>

            <div class="pdt-section-title">Giảng dạy</div>
            <a class="@A("GiaoVien")" asp-controller="PhongDaoTao" asp-action="GiaoVien"><i class="bi bi-mortarboard"></i> Giảng viên</a>
            <a class="@A("PhanCong") mt-1" asp-controller="PhongDaoTao" asp-action="PhanCong"><i class="bi bi-diagram-3"></i> Phân công giảng dạy</a>
            <a class="@A("LichHoc") mt-1" asp-controller="PhongDaoTao" asp-action="LichHoc"><i class="bi bi-calendar3"></i> Lịch học</a>

            <div class="pdt-section-title">Đào tạo</div>
            <a class="@A("KhoaHoc")" asp-controller="PhongDaoTao" asp-action="KhoaHoc"><i class="bi bi-journal-bookmark"></i> Khóa học</a>
            <a class="@A("LopHoc") mt-1" asp-controller="PhongDaoTao" asp-action="LopHoc"><i class="bi bi-building"></i> Lớp học</a>
            <a class="@A("LichKhaiGiang") mt-1" asp-controller="PhongDaoTao" asp-action="LichKhaiGiang"><i class="bi bi-megaphone"></i> Lịch khai giảng</a>

            <div class="mt-3">
                <form asp-controller="PhongDaoTao" asp-action="DangXuat" method="post" class="d-grid">
                    @Html.AntiForgeryToken()
                    <button class="btn btn-outline-danger rounded-3"><i class="bi bi-box-arrow-right me-1"></i> Đăng xuất</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    @RenderSection("Scripts", required: false)
</body>
</html>
